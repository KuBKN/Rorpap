<br>

<div class="container row" style="height: 600px; width:85%">

	<div class="container hide-on-med-and-down col l2" style="min-weight: 500px">
		<div class="collection" style="border-style: none">

			<div style="margin-bottom: 15px">
				<a href="#!/newrequest" id="newRequest" class="btn" style="width: 100%">New Request</a>
			</div>

			<a class="collection-item" style="border-style: none; background-color: #FFE2C2" ng-click="getRequests()"><font size="3">My Request	</font></a>

			<a class="collection-item" style="font-weight:normal" ng-click="getRequests('Pending')"><font size="3" color="#CE0000">Pending</font></a>

			<a class="collection-item" style="font-weight:normal" ng-click="getRequests('Inprogress')"><font size="3" color="#0007DA">In Progress</font></a>

			<a class="collection-item" style="font-weight:normal" ng-click="getRequests('Finished')">
				<font size="3" color="#00D042">Finished</font></a>

			<a class="collection-item" style="background-color: #FFE2C2"><font size="4">My Dashboard</font></a>
		</div>
	</div>

	<div class="col l6 m8 s12">
		<ul class="collapsible popout" data-collapsible="accordion">

			<li id="request{{$index}}" style="margin: 10px 0" ng-repeat="request in requests">

				<div class="collapsible-header" ng-style="{'background-color': reqBackground(request.type)}" ng-click="showInMap($index)">
					<div class="row">

						<div class="col m3 s12 hide-on-small-and-down" style="margin: 10px 0; border-style: solid; border-color: white">
							{{request.size_length}}
							{{request.size_width}}
							{{request.size_height}}<br>
							{{request.weight}}
						</div>

						<div class="col m9 s12">
							<h5>To : {{request.recipient_name}}
								<style type="text/css">
									span.badge.new:after { content: " messenger";}
								</style>
							<span class="new badge right" style="position: relative" ng-click="openModal($index)" ng-if="request.type=='Pending' && request.hasAccept">{{ request.acceptNum }}</span></h5>
								
							<div class="chip">
								<i class="material-icons">event</i>
								{{request.reqLimitDate}}
							</div>
							<div class="chip">
								<i class="material-icons">schedule</i>
								{{request.reqLimitTime}}
							</div>
					</div>
				</div>
			</div>

				<div class="collapsible-body" style="background-color: #F8F8F8">
					<div class="row" style="padding: 10px">
						<div class="col s9">
							<div style="margin-bottom: 5px">
								<h6>Email : {{request.recipient_email}}</h6>
								<h6>Tel : {{request.recipient_tel}}</h6>
								Due in {{request.shipLimitDate}} {{request.shipLimitTime}}<br>
								<h6 ng-if="request.type!='Pending'">Messenger
									<a href="#!/profile_other" ng-click="seeUser(request.messenger)">{{request.messenger.firstname}} {{request.messenger.lastname}}</a>
								</h6>
								{{request.comment}}
							</div>
						</div>

						<div class="col s3 right green-text" style="text-align: right"><h5>{{request.price}}</h5></div>

						<div class="col m12 s12" ng-if="request.type == 'Pending'">
							<span class="right">
								<a id="edit{{$index}}" class="btn black-text" style="background-color: #FCFCFC">Edit</a>
								<a id="remove{{$index}}" class="btn" style="background-color: #e51c23" ng-click="removeRequest($index)">Remove</a>
							</span>
						</div>

					</div>
				</div>

			</li>

		</ul>
	</div>

	<div class="right col l4 m4 s12">
		<div class="row">
			<div class="col s12 m12">
				<div class="card blue-grey darken-1">
					<div class="card-content white-text">
						<span class="card-title">Location</span>
						<ng-map center="{{map.center}}" zoom="{{map.zoom}}">
							<marker position="{{marker_from.position}}"
							optimized="{{marker_from.optimized}}"
							icon="{{marker_from.icon}}"
							visible="{{marker_from.visible}}"></marker>

							<marker position="{{marker_to.position}}"
							optimized="{{marker_to.optimized}}"
							icon="{{marker_to.icon}}"
							visible="{{marker_to.visible}}"></marker>


							<shape name="polyline"
							path="{{ path }}"
							geodesic="true"
							stroke-color="#FF0000"
							stroke-opacity="1.0"
							stroke-weight="3">
							</shape>

						</ng-map>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="modal1" class="modal" style="width: 280px">
  <div class="modal-content" style="padding: 0px">
      <ul class="collapsible popout" data-collapsible="accordion">
		    <li ng-repeat="accept in allAccepts">
		      <div class="collapsible-header">
		      		{{ accept.firstname }} {{ accept.lastname }}</a>
		      </div>
		      <div class="collapsible-body">
		      	<p>
		      		<a href="#!/profile_other" ng-click="seeUserM(accept)">{{ accept.email }}</a>
		      		<span class="btn right" ng-click="confirmMessenger($index)">Confirm</span>
      			</p>
      		</div>
		    </li>
		  </ul>
  </div>
</div>